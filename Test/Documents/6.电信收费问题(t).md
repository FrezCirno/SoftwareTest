# 练习6：电信收费问题

> 研究一个与我们的生活息息相关的电信收费问题系统，需求描述如下：
> 
> A. 每月的电话总费用=基本月租费+折扣后的实际的通话费，如果没有折扣则按实际通话费计算，基本月租费为25元，每分钟通话费为0.15元。
> 
> B. 实际通话费是否有折扣与当月的通话时间（分钟）和本年度至本月的累计未按时缴费的次数有关。
> 
> C. 当月的通话分钟数和折扣比例及本年度未按时缴费次数之间有直接的对应关系，如果本年度的未按时缴费的次数超过本月通话时间所对应的容许值则免于折扣，并按实际的通话费计算。
> 
> D. 通话时间和折扣比例及未按时缴费次数的关系为：
> 
>  本月通话的分钟数  通话时间段的最大容许不按时缴费次数 通话时间段的折扣率
> 
> 0<通话时间<=60 1   1.0％
> 
> 60<通话时间<=120   2   1.5％
> 
> 120<通话时间<=180  3   2.0％
> 
> 180<通话时间<=300  3   2.5％
> 
> 300<通话时间  6   3.0％
> 
> 边界值，等价类和决策表设计测试用例，根据三种方法，最后设计出最优的一组测试用例集

## 边界值

本月通话分钟N∈[0,44640]，其中：

- N1={0<N<=60}
- N2={60<N<=120}
- N3={120<N<=180}
- N4={180<N<=300}
- N5={300<N<=44640}。
- 不按时缴纳次数M∈{0,1,2,3,4,5,6,7,8,9,10,11}。

对本月通话分钟数分别进行五次基本边界值的方法，将每一个变量都分别取min,min+,nom,max-,max，其他变量取正常值，设计41个测试用例。最后再补充健壮边界值测试用例。

## 等价类

通话分钟数分为以下等价类：

- N1={0<N<=60}
- N2={60<N<=120}
- N3={120<N<=180}
- N4={180<N<=300}
- N5={300<N<=44640}

不按时缴纳次数分为以下等价类：

- M1={0,1}
- M2={2}
- M3={3}
- M4={4,5,6}
- M5={7,8,9,10,11}。

采用强一般等价类的方法设计25个测试用例，再补充额外弱健壮等价类测试用例。

## 决策表

通话分钟数分为以下等价类：

- N1={0<N<=60}
- N2={60<N<=120}
- N3={120<N<=180}
- N4={180<N<=300}
- N5={300<N<=44640}

不按时缴纳次数分为以下等价类：

- M1={0,1}
- M2={2}
- M3={3}
- M4={4,5,6}
- M5={7,8,9,10,11}


| 标号        | 1                        | 2             | 3                        | 4             | 5                        | 6             | 7                        | 8             | 9                        | 10            |
|-------------|--------------------------|---------------|--------------------------|---------------|--------------------------|---------------|--------------------------|---------------|--------------------------|---------------|
| C1:N        | N1                       |               | N2                       |               | N3                       |               | N4                       |               | N5                       |               |
| C2:M        | M1                       | M2~M5         | M1~M2                    | M3~M5         | M1~M3                    | M4~M5         | M1~M3                    | M4~M5         | M1~M4                    | M5            |
| A1:无折扣   |                          | X             |                          | X             |                          | X             |                          | X             |                          | X             |
| A2:折扣1.0% | X                        |               |                          |               |                          |               |                          |               |                          |               |
| A3:折扣1.5% |                          |               | X                        |               |                          |               |                          |               |                          |               |
| A4:折扣2.0% |                          |               |                          |               | X                        |               |                          |               |                          |               |
| A5:折扣2.5% |                          |               |                          |               |                          |               | X                        |               |                          |               |
| A6:折扣3.0% |                          |               |                          |               |                          |               |                          |               | X                        |               |
| 费用        | 25 + N * 0.15 * (1-1.0%) | 25 + N * 0.15 | 25 + N * 0.15 * (1-1.5%) | 25 + N * 0.15 | 25 + N * 0.15 * (1-2.0%) | 25 + N * 0.15 | 25 + N * 0.15 * (1-2.5%) | 25 + N * 0.15 | 25 + N * 0.15 * (1-3.0%) | 25 + N * 0.15 |

通过决策表设计10个测试用例，再补充额外弱健壮等价类测试用例。